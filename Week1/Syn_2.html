<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="images"></div>
  </body>
  <script>
    const imagesContainer = document.querySelector(".images");

    const createImage = function (imgPath) {
      return new Promise(function (resolve, reject) {
        const img = document.createElement("img");
        img.src = imgPath;

        // Khi áº£nh load xong
        img.addEventListener("load", function () {
          imagesContainer.append(img);
          resolve(img); // tráº£ vá» chÃ­nh tháº» img
        });

        // Khi áº£nh lá»—i
        img.addEventListener("error", function () {
          reject(new Error("Image not found ðŸ˜¢"));
        });
      });
    };
    const wait = function (seconds) {
      return new Promise(function (resolve) {
        setTimeout(resolve, seconds * 1000);
      });
    };
    let currentImg;

    createImage("img/img-1.jpg")
      .then((img) => {
        currentImg = img;
        console.log("Image 1 loaded");
        return wait(2);
      })
      .then(() => {
        currentImg.style.display = "none";
        return createImage("img/img-2.jpg");
      })
      .then((img) => {
        currentImg = img;
        console.log("Image 2 loaded");
        return wait(2);
      })
      .then(() => {
        currentImg.style.display = "none";
      })
      .catch((err) => {
        console.error(err);
      });
  </script>
</html>
